graph TD
    A[ğŸš€ Valid3.py ì‹œì‘] --> B[ğŸ“Š ë°ì´í„° ë¡œë“œ<br/>Excel íŒŒì¼ ì½ê¸°]
    B --> C{ë°ì´í„° ë¡œë“œ<br/>ì„±ê³µ?}
    C -->|ì‹¤íŒ¨| Z1[âŒ ì¢…ë£Œ]
    C -->|ì„±ê³µ| D[ğŸ”§ Valid3ValidationManager<br/>ì´ˆê¸°í™”]
    
    D --> E[ğŸ“¦ ë°°ì¹˜ ì²˜ë¦¬ ì‹œì‘<br/>BATCH_SIZE=100]
    E --> F[ğŸ”„ í–‰ë³„ ê²€ì¦ ì‹œì‘<br/>validate_single_row]
    
    F --> G[ğŸ“ ë°ì´í„° ì¶”ì¶œ<br/>Eì—´:ìë©´ë™, Iì—´:íŒ©ìŠ¤ë²ˆí˜¸<br/>Cì—´:ì‹œë„, Gì—´:ì£¼ì†Œ, Hì—´:ì „í™”ë²ˆí˜¸]
    
    G --> H{íŒ©ìŠ¤ë²ˆí˜¸<br/>ì¡´ì¬?}
    H -->|ì—†ìŒ| R1[ğŸš« ê²€ì¦ ë¶ˆê°€]
    
    H -->|ì¡´ì¬| I[ğŸ” 1ì°¨ ê²€ì¦<br/>validate_stage1]
    I --> I1[ğŸ“ ì§€ì—­ë²ˆí˜¸ ì¶”ì¶œ<br/>PhoneValidator í™œìš©]
    I1 --> I2{ì§€ì—­ë²ˆí˜¸ â†” ì£¼ì†Œ<br/>ë§¤ì¹­?}
    I2 -->|ì¼ì¹˜| I3[âœ… 1ì°¨ í†µê³¼]
    I2 -->|ë¶ˆì¼ì¹˜| I4[âŒ 1ì°¨ ì‹¤íŒ¨]
    
    I3 --> J[ğŸ” 2ì°¨ ê²€ì¦<br/>validate_stage2]
    I4 --> J
    J --> J1[ğŸŒ Google ê²€ìƒ‰<br/>WebDriverManager í™œìš©]
    J1 --> J2[ğŸ” ê²€ìƒ‰: íŒ©ìŠ¤ë²ˆí˜¸ + ì–´ëŠê¸°ê´€]
    J2 --> J3{ê²€ìƒ‰ê²°ê³¼ì—<br/>ê¸°ê´€ëª… í¬í•¨?}
    J3 -->|í¬í•¨| J4[âœ… 2ì°¨ í†µê³¼]
    J3 -->|ë¶ˆí¬í•¨| J5[âŒ 2ì°¨ ì‹¤íŒ¨]
    
    J4 --> K[ğŸ” 3ì°¨ ê²€ì¦<br/>validate_stage3]
    J5 --> K
    K --> K1[ğŸ”— ê²€ìƒ‰ê²°ê³¼ ë§í¬ ì¶”ì¶œ<br/>SEARCH_RESULTS_LIMIT=3ê°œ]
    K1 --> K2[ğŸ•·ï¸ ë³‘ë ¬ ë§í¬ í¬ë¡¤ë§<br/>BeautifulSoup íŒŒì‹±]
    K2 --> K3[ğŸ“Š í–¥ìƒëœ ì‹ ë¢°ë„ ê³„ì‚°<br/>íŒ©ìŠ¤ë²ˆí˜¸ ì •í™•ì¼ì¹˜ì‹œ +50ì ]
    K3 --> K4{ì‹ ë¢°ë„ â‰¥<br/>CONFIDENCE_THRESHOLD<br/>60%?}
    K4 -->|í†µê³¼| K5[âœ… 3ì°¨ í†µê³¼<br/>ê¸°ê´€ëª… ìˆ˜ì§‘]
    K4 -->|ì‹¤íŒ¨| K6[âŒ 3ì°¨ ì‹¤íŒ¨]
    
    K5 --> L[ğŸ” 4ì°¨ ê²€ì¦<br/>validate_stage4]
    K6 --> L
    L --> L1[ğŸ¤– AI ê¸°ê´€ëª… ì¶”ì¶œ<br/>AIModelManager.extract_with_gemini]
    L1 --> L2{AI ì¶”ì¶œ<br/>ì„±ê³µ?}
    L2 -->|ì„±ê³µ| L3[ğŸ“ ìœ ì‚¬ë„ ê³„ì‚°<br/>ì›ë³¸ â†” AIì¶”ì¶œ ê¸°ê´€ëª…]
    L2 -->|ì‹¤íŒ¨| L4[ğŸ”„ ë°±ì—… ë¡œì§<br/>3ì°¨ ë°œê²¬ ê¸°ê´€ëª… í™œìš©]
    L3 --> L5{ìœ ì‚¬ë„ â‰¥ 70%?}
    L4 --> L6{ë°±ì—… ê¸°ê´€ëª…<br/>ìœ ì‚¬ë„ â‰¥ 60%?}
    L5 -->|í†µê³¼| L7[âœ… 4ì°¨ í†µê³¼]
    L5 -->|ì‹¤íŒ¨| L8[âŒ 4ì°¨ ì‹¤íŒ¨]
    L6 -->|í†µê³¼| L7
    L6 -->|ì‹¤íŒ¨| L8
    
    L7 --> M[ğŸ” 5ì°¨ ê²€ì¦<br/>validate_stage5]
    L8 --> M
    M --> M1[ğŸ”„ ì—­ê²€ìƒ‰<br/>ê¸°ê´€ëª… â†’ íŒ©ìŠ¤ë²ˆí˜¸]
    M1 --> M2[ğŸ“‹ 1-4ì°¨ ê²€ì¦ê°’ ìˆ˜ì§‘<br/>ì¢…í•© ë¶„ì„ ë°ì´í„° êµ¬ì„±]
    M2 --> M3[ğŸ¤– AI ì™„ë²½ ë§¤ì¹­ ë¶„ì„<br/>ìµœì¢… ì¢…í•© íŒì •]
    M3 --> M4{AI ìµœì¢…<br/>íŒì •}
    M4 -->|ì˜¬ë°”ë¦„| R2[âœ… ë°ì´í„° ì˜¬ë°”ë¦„<br/>ì‹ ë¢°ë„ 85%]
    M4 -->|ì˜¤ë¥˜| R3[âŒ ë°ì´í„° ì˜¤ë¥˜<br/>ì‹ ë¢°ë„ 75%]
    M4 -->|ë¶ˆí™•ì‹¤| R4[âš ï¸ ì§ì ‘ í™•ì¸ ìš”ë§<br/>ì‹ ë¢°ë„ 30%]
    
    R1 --> S[ğŸ’¾ ê²°ê³¼ ì €ì¥<br/>ValidationResult]
    R2 --> S
    R3 --> S
    R4 --> S
    
    S --> T{ë” ì²˜ë¦¬í• <br/>í–‰ ì¡´ì¬?}
    T -->|ìˆìŒ| F
    T -->|ì—†ìŒ| U[ğŸ“Š ìµœì¢… í†µê³„ ì¶œë ¥<br/>5ë‹¨ê³„ë³„ í†µê³¼ìœ¨]
    
    U --> V[ğŸ’¾ Excel ê²°ê³¼ ì €ì¥<br/>OUTPUT_FILE_PREFIX]
    V --> W[ğŸ‰ ê²€ì¦ ì™„ë£Œ]
    
    %% ìŠ¤íƒ€ì¼ë§
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef failure fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef ai fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    
    class A,W startEnd
    class D,E,F,G,I1,J1,J2,K1,K2,K3,L1,L3,L4,M1,M2,M3,S,U,V process
    class C,H,I2,J3,K4,L2,L5,L6,M4,T decision
    class I3,J4,K5,L7,R2 success
    class I4,J5,K6,L8,R1,R3,R4 failure
    class L1,M3 ai